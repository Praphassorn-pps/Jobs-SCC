(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[158],{377:function(e,t,n){Promise.resolve().then(n.bind(n,7404))},7404:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return JobsWithServicePage}});var a=n(7573),i=n(7653);let ApiError=class ApiError extends Error{constructor(e,t,n,a){super(t),this.code=e,this.message=t,this.status=n,this.details=a,this.name="ApiError"}};let o={BASE_URL:"http://localhost:5000/api",TIMEOUT:3e4,USE_MOCK:!0};let ApiClient=class ApiClient{getAuthHeaders(){let e=this.getAccessToken();return e?{Authorization:"Bearer ".concat(e)}:{}}getAccessToken(){return localStorage.getItem("access_token")}setAccessToken(e){localStorage.setItem("access_token",e)}removeAccessToken(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{timeout:i=this.timeout,skipAuth:o=!1,...r}=a,s="".concat(this.baseUrl).concat(e),l={"Content-Type":"application/json",...o?{}:this.getAuthHeaders(),...r.headers},c=new AbortController,d=setTimeout(()=>c.abort(),i);try{var p,u,_,m,g,h;let e=await fetch(s,{method:t,headers:l,body:n?JSON.stringify(n):void 0,signal:c.signal,...r});clearTimeout(d);let a=e.headers.get("content-type");if(!(null==a?void 0:a.includes("application/json"))){if(!e.ok)throw new ApiError("HTTP_ERROR","HTTP ".concat(e.status,": ").concat(e.statusText),e.status);return await e.text()}let i=await e.json();if(!e.ok)throw new ApiError((null===(p=i.error)||void 0===p?void 0:p.code)||"API_ERROR",(null===(u=i.error)||void 0===u?void 0:u.message)||"An error occurred",e.status,null===(_=i.error)||void 0===_?void 0:_.details);if(!i.success)throw new ApiError((null===(m=i.error)||void 0===m?void 0:m.code)||"API_ERROR",(null===(g=i.error)||void 0===g?void 0:g.message)||"Request failed",e.status,null===(h=i.error)||void 0===h?void 0:h.details);return i.data}catch(e){if(clearTimeout(d),e instanceof ApiError)throw e;if("AbortError"===e.name)throw new ApiError("TIMEOUT","Request timeout");throw new ApiError("NETWORK_ERROR",e instanceof Error?e.message:"Network error occurred")}}async uploadFile(e,t,n){let a="".concat(this.baseUrl).concat(e),i=new FormData;i.append("file",t),n&&Object.entries(n).forEach(e=>{let[t,n]=e;i.append(t,"object"==typeof n?JSON.stringify(n):n)});let o={...this.getAuthHeaders()};try{let e=await fetch(a,{method:"POST",headers:o,body:i}),t=await e.json();if(!e.ok||!t.success){var r,s,l;throw new ApiError((null===(r=t.error)||void 0===r?void 0:r.code)||"UPLOAD_ERROR",(null===(s=t.error)||void 0===s?void 0:s.message)||"Upload failed",e.status,null===(l=t.error)||void 0===l?void 0:l.details)}return t.data}catch(e){if(e instanceof ApiError)throw e;throw new ApiError("UPLOAD_ERROR",e instanceof Error?e.message:"Upload failed")}}get(e,t){return this.request(e,"GET",void 0,t)}post(e,t,n){return this.request(e,"POST",t,n)}put(e,t,n){return this.request(e,"PUT",t,n)}patch(e,t,n){return this.request(e,"PATCH",t,n)}delete(e,t){return this.request(e,"DELETE",void 0,t)}constructor(e,t=3e4){this.baseUrl=e,this.timeout=t}};let r=new ApiClient(o.BASE_URL,o.TIMEOUT),s={user_id:"user-001",email:"john.doe@example.com",line_user_id:"U1234567890abcdef",display_name:"John Doe",picture_url:"https://via.placeholder.com/150",prefix:"นาย",first_name:"จอห์น",last_name:"โด",phone:"0812345678",address:"123 ถนนสุขุมวิท แขวงคลองเตย เขตคลองเตย กรุงเทพฯ 10110",role:"user",pdpa_consent:!0,is_active:!0,extra_fields:{date_of_birth:"1995-05-15",education:"ปริญญาตรี วิศวกรรมศาสตร์"},created_at:"2024-01-01T00:00:00Z"},l=[{document_id:"doc-001",user_id:"user-001",document_type:"id_card",file_path:"https://example.com/documents/id-card.pdf",file_name:"id_card.pdf",file_size:1024e3,uploaded_at:"2024-01-15T10:00:00Z",is_active:!0,created_at:"2024-01-15T10:00:00Z"},{document_id:"doc-002",user_id:"user-001",document_type:"resume",file_path:"https://example.com/documents/resume.pdf",file_name:"resume_john_doe.pdf",file_size:2048e3,uploaded_at:"2024-01-15T10:05:00Z",is_active:!0,created_at:"2024-01-15T10:05:00Z"}],c={...s,documents:l},d=[{job_id:"job-001",jobcode:"DEV-001",jobname:"Frontend Developer",description:"\nเราเป็นบริษัทเทคโนโลยีชั้นนำที่กำลังมองหา Frontend Developer ที่มีความสามารถในการพัฒนาเว็บแอปพลิเคชันที่ทันสมัยและใช้งานง่าย\n\n**หน้าที่ความรับผิดชอบ:**\n- พัฒนาและปรับปรุงเว็บไซต์และเว็บแอปพลิเคชัน\n- ทำงานร่วมกับทีม UX/UI Designer เพื่อสร้างประสบการณ์ที่ดีให้กับผู้ใช้\n- เขียนโค้ดที่สะอาด maintainable และ testable\n- ทำงานร่วมกับ Backend Developer ในการเชื่อมต่อ API\n- ปรับปรุงประสิทธิภาพของเว็บไซต์\n\n**เทคโนโลยีที่ใช้:**\n- React.js, Next.js, TypeScript\n- TailwindCSS, styled-components\n- Git, GitHub, CI/CD\n- Testing: Jest, Cypress\n    ",requirements:"\n- ปริญญาตรีสาขาคอมพิวเตอร์ วิศวกรรมคอมพิวเตอร์ หรือสาขาที่เกี่ยวข้อง\n- ประสบการณ์ 2-4 ปีในการพัฒนา Frontend\n- มีความเชี่ยวชาญใน React.js, JavaScript, HTML, CSS\n- มีประสบการณ์ใน TypeScript และ Next.js\n- เข้าใจ Responsive Design และ Mobile-first approach\n- มีทักษะการทำงานเป็นทีม\n    ",benefits:"\n- เงินเดือนและโบนัสตามผลงาน\n- ประกันสุขภาพและประกันชีวิต\n- วันหยุดพักผ่อนประจำปี 15 วัน\n- Work from Home 2 วัน/สัปดาห์\n- โอกาสในการพัฒนาทักษะและเติบโตในสายงาน\n    ",department:"Technology",location:"กรุงเทพฯ (บางนา)",salary_range:"35,000 - 50,000 บาท",employment_type:"full-time",experience_level:"mid",status:"open",created_at:"2024-09-01T00:00:00Z"},{job_id:"job-002",jobcode:"MKT-001",jobname:"Digital Marketing Specialist",description:"\nต้องการผู้เชี่ยวชาญด้าน Digital Marketing ที่มีความคิดสร้างสรรค์และมีประสบการณ์ในการทำ Online Marketing\n\n**หน้าที่ความรับผิดชอบ:**\n- วางแผนและดำเนินการแคมเปญ Digital Marketing\n- บริหารจัดการ Social Media และ Content Marketing\n- วิเคราะห์ข้อมูลและรายงานผลการทำ Marketing\n- ทำงานร่วมกับทีมออกแบบในการสร้าง Creative Content\n- ติดตามเทรนด์และนวัตกรรมใหม่ๆ ในวงการ Digital Marketing\n    ",requirements:"\n- ปริญญาตรีสาขาการตลาด นิเทศศาสตร์ หรือสาขาที่เกี่ยวข้อง\n- ประสบการณ์ 1-3 ปีในด้าน Digital Marketing\n- มีความรู้ใน SEO, SEM, Social Media Marketing\n- สามารถใช้ Google Analytics, Facebook Ads Manager\n- มีความคิดสร้างสรรค์และทักษะการเขียนที่ดี\n    ",benefits:"\n- เงินเดือนและค่าคอมมิชชั่นตามผลงาน\n- ประกันสังคมและประกันสุขภาพ\n- โบนัสประจำปี\n- อบรมและพัฒนาทักษะอย่างต่อเนื่อง\n    ",department:"Marketing",location:"กรุงเทพฯ (สาทร)",salary_range:"25,000 - 40,000 บาท",employment_type:"full-time",experience_level:"entry",status:"open",created_at:"2024-09-15T00:00:00Z"},{job_id:"job-003",jobcode:"DEV-002",jobname:"Backend Developer (.NET)",description:"\nกำลังมองหา Backend Developer ที่มีประสบการณ์ใน .NET และ C# เพื่อมาร่วมพัฒนาระบบที่มั่นคงและรองรับการใช้งานจำนวนมาก\n\n**หน้าที่ความรับผิดชอบ:**\n- พัฒนาและดูแล Backend API ด้วย .NET\n- ออกแบบและพัฒนา Database Schema\n- เขียน Unit Tests และ Integration Tests\n- Optimize Performance และแก้ไข Bugs\n- ทำงานร่วมกับทีม Frontend และ DevOps\n    ",requirements:"\n- ปริญญาตรีสาขาคอมพิวเตอร์ หรือสาขาที่เกี่ยวข้อง\n- ประสบการณ์ 3-5 ปีใน Backend Development\n- มีความเชี่ยวชาญใน .NET Core/ASP.NET Core, C#\n- มีประสบการณ์ใน SQL Server หรือ PostgreSQL\n- เข้าใจ RESTful API และ Microservices\n- มีความรู้ใน Git, Docker, CI/CD\n    ",department:"Technology",location:"กรุงเทพฯ (บางนา)",salary_range:"45,000 - 65,000 บาท",employment_type:"full-time",experience_level:"senior",status:"open",created_at:"2024-10-01T00:00:00Z"}],p=[{job_opening_id:"opening-001",job_id:"job-001",job:d[0],open_date:"2024-10-01T00:00:00Z",close_date:"2024-10-31T23:59:59Z",status:"open",position_count:2,created_at:"2024-10-01T00:00:00Z"},{job_opening_id:"opening-002",job_id:"job-002",job:d[1],open_date:"2024-10-05T00:00:00Z",close_date:"2024-11-05T23:59:59Z",status:"open",position_count:1,created_at:"2024-10-05T00:00:00Z"},{job_opening_id:"opening-003",job_id:"job-003",job:d[2],open_date:"2024-10-10T00:00:00Z",close_date:"2024-11-10T23:59:59Z",status:"open",position_count:3,created_at:"2024-10-10T00:00:00Z"}],u=[{qa_id:"qa-001",question_text:"กรุณาแนะนำตัวเองและเล่าเกี่ยวกับประสบการณ์การทำงานของคุณ",question_type:"basic",is_active:!0,created_at:"2024-01-01T00:00:00Z"},{qa_id:"qa-002",question_text:"ทำไมคุณถึงสนใจตำแหน่งงานนี้และบริษัทของเรา",question_type:"company-fit",is_active:!0,created_at:"2024-01-01T00:00:00Z"},{qa_id:"qa-003",question_text:"คุณมีประสบการณ์อะไรบ้างที่เกี่ยวข้องกับตำแหน่งงานนี้",question_type:"job-specific",job_id:"job-001",is_active:!0,created_at:"2024-01-01T00:00:00Z"}],_=[{job_application_id:"app-001",user_id:"user-001",job_opening_id:"opening-001",job_opening:p[0],extra_answers:{},status:"interview",applied_at:"2024-10-02T10:00:00Z",created_at:"2024-10-02T10:00:00Z"}],m=[{interview_id:"int-001",job_application_id:"app-001",scheduled_date:"2024-10-15T14:00:00Z",scheduled_time:"14:00",location:"ชั้น 5 ห้องประชุม A",interview_type:"onsite",status:"confirmed",result:"pending",notes:"กรุณามาถึงก่อนเวลา 15 นาที",created_at:"2024-10-05T10:00:00Z"}],g=[{notification_id:"notif-001",user_id:"user-001",type:"interview_scheduled",title:"นัดสัมภาษณ์งาน",message:"คุณได้รับการนัดสัมภาษณ์ตำแหน่ง Frontend Developer วันที่ 15 ต.ค. 2024 เวลา 14:00 น.",link:"/interviews/int-001",is_read:!1,created_at:"2024-10-05T10:00:00Z"},{notification_id:"notif-002",user_id:"user-001",type:"application_status",title:"สถานะการสมัครงาน",message:"ใบสมัครของคุณสำหรับตำแหน่ง Frontend Developer อยู่ระหว่างการพิจารณา",link:"/applications/app-001",is_read:!0,created_at:"2024-10-03T15:00:00Z",read_at:"2024-10-03T16:00:00Z"},{notification_id:"notif-003",user_id:"user-001",type:"job_opening",title:"ตำแหน่งงานใหม่",message:"มีตำแหน่งงานใหม่ที่น่าสนใจ: Backend Developer (.NET)",link:"/jobs/opening-003",is_read:!1,created_at:"2024-10-10T09:00:00Z"}],delay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise(t=>setTimeout(t,e))},generateId=e=>"".concat(e,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9));let AuthService=class AuthService{async lineLogin(e){if(o.USE_MOCK)return await delay(),{user:s,tokens:{access_token:"mock_access_token_"+Date.now(),refresh_token:"mock_refresh_token_"+Date.now(),expires_in:3600,token_type:"Bearer"},is_new_user:!1,requires_pdpa:!s.pdpa_consent};let t=await r.post("/auth/line/login",e,{skipAuth:!0});return t.tokens.access_token&&(r.setAccessToken(t.tokens.access_token),t.tokens.refresh_token&&localStorage.setItem("refresh_token",t.tokens.refresh_token)),t}getLineLoginUrl(e,t){let n="your_line_channel_id";if(!n)throw Error("LINE Channel ID is not configured");let a=new URLSearchParams({response_type:"code",client_id:n,redirect_uri:e,state:t||Math.random().toString(36).substring(7),scope:"profile openid email"});return"https://access.line.me/oauth2/v2.1/authorize?".concat(a.toString())}async acceptPDPA(e){return o.USE_MOCK?(await delay(),{...s,pdpa_consent:e.consent}):r.post("/auth/pdpa/consent",e)}async getCurrentUser(){return o.USE_MOCK?(await delay(),s):r.get("/auth/me")}async logout(){if(o.USE_MOCK){await delay(),r.removeAccessToken();return}try{await r.post("/auth/logout")}finally{r.removeAccessToken()}}async refreshToken(){let e=localStorage.getItem("refresh_token");if(!e)throw Error("No refresh token available");if(o.USE_MOCK)return await delay(),{user:s,tokens:{access_token:"mock_access_token_"+Date.now(),refresh_token:"mock_refresh_token_"+Date.now(),expires_in:3600,token_type:"Bearer"},is_new_user:!1,requires_pdpa:!1};let t=await r.post("/auth/refresh",{refresh_token:e},{skipAuth:!0});return t.tokens.access_token&&(r.setAccessToken(t.tokens.access_token),t.tokens.refresh_token&&localStorage.setItem("refresh_token",t.tokens.refresh_token)),t}};new AuthService;let UserService=class UserService{async getProfile(){return o.USE_MOCK?(await delay(),c):r.get("/users/profile")}async updateProfile(e){return o.USE_MOCK?(await delay(),{...c,...e,updated_at:new Date().toISOString()}):r.patch("/users/profile",e)}async getDocuments(){return o.USE_MOCK?(await delay(),l):r.get("/users/documents")}async getDocumentByType(e){return o.USE_MOCK?(await delay(),l.find(t=>t.document_type===e&&t.is_active)||null):r.get("/users/documents/type/".concat(e))}async uploadDocument(e,t){return o.USE_MOCK?(await delay(1e3),{document_id:generateId("doc"),file_path:"https://example.com/documents/".concat(e.name),file_name:e.name,file_size:e.size}):r.uploadFile("/users/documents/upload",e,{document_type:t})}async deleteDocument(e){if(o.USE_MOCK){await delay();return}return r.delete("/users/documents/".concat(e))}async downloadDocument(e){if(o.USE_MOCK)return await delay(),new Blob(["Mock document content"],{type:"application/pdf"});let t=await fetch("".concat(o.BASE_URL,"/users/documents/").concat(e,"/download"),{headers:{Authorization:"Bearer ".concat(r.getAccessToken())}});if(!t.ok)throw Error("Failed to download document");return t.blob()}validateDocumentFile(e,t){let n={id_card:2097152,resume:5242880,default:5242880};if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(e.type))return{valid:!1,error:"รองรับเฉพาะไฟล์ PDF, JPG, หรือ PNG เท่านั้น"};let a=n[t]||n.default;return e.size>a?{valid:!1,error:"ขนาดไฟล์ต้องไม่เกิน ".concat(a/1048576,"MB")}:{valid:!0}}};new UserService;let JobService=class JobService{async getJobs(e){if(o.USE_MOCK){var t,n,a,i;await delay();let o=[...p];if((null==e?void 0:e.status)&&(o=o.filter(t=>t.status===e.status)),(null==e?void 0:e.department)&&(null===(t=o[0])||void 0===t?void 0:t.job)&&(o=o.filter(t=>{var n;return(null===(n=t.job)||void 0===n?void 0:n.department)===e.department})),(null==e?void 0:e.employment_type)&&(null===(n=o[0])||void 0===n?void 0:n.job)&&(o=o.filter(t=>{var n;return(null===(n=t.job)||void 0===n?void 0:n.employment_type)===e.employment_type})),(null==e?void 0:e.experience_level)&&(null===(a=o[0])||void 0===a?void 0:a.job)&&(o=o.filter(t=>{var n;return(null===(n=t.job)||void 0===n?void 0:n.experience_level)===e.experience_level})),(null==e?void 0:e.search)&&(null===(i=o[0])||void 0===i?void 0:i.job)){let t=e.search.toLowerCase();o=o.filter(e=>{var n,a;return(null===(n=e.job)||void 0===n?void 0:n.jobname.toLowerCase().includes(t))||(null===(a=e.job)||void 0===a?void 0:a.description.toLowerCase().includes(t))})}let r=(null==e?void 0:e.page)||1,s=(null==e?void 0:e.limit)||10,l=(r-1)*s,c=l+s,d=o.slice(l,c);return{jobs:d,total:o.length,page:r,limit:s,total_pages:Math.ceil(o.length/s)}}let s=new URLSearchParams;return e&&Object.entries(e).forEach(e=>{let[t,n]=e;void 0!==n&&s.append(t,String(n))}),r.get("/jobs?".concat(s.toString()))}async getJobDetail(e){if(o.USE_MOCK){await delay();let t=p.find(t=>t.job_opening_id===e);if(!t)throw Error("Job not found");let n=_.find(t=>t.job_opening_id===e);return{...t,job:t.job,application:n}}return r.get("/jobs/".concat(e))}async getApplicationQuestions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(o.USE_MOCK){await delay();let n=u.filter(e=>!e.job_id),a=u.filter(t=>t.job_id===e),i=[...n,...a],o=i.sort(()=>.5-Math.random());return o.slice(0,t)}return r.get("/jobs/".concat(e,"/questions?count=").concat(t))}async createApplication(e){if(o.USE_MOCK){await delay(1e3);let t=_.find(t=>t.job_opening_id===e.job_opening_id);if(t)throw Error("คุณได้สมัครตำแหน่งงานนี้แล้ว");return{job_application_id:generateId("app"),status:"pending",applied_at:new Date().toISOString()}}return r.post("/jobs/applications",e)}async getMyApplications(){if(o.USE_MOCK){await delay();let e=_.map(e=>({...e,job_opening:{...e.job_opening,job:e.job_opening.job}}));return{applications:e,total:e.length}}return r.get("/jobs/applications/me")}async getApplicationDetail(e){if(o.USE_MOCK){await delay();let t=_.find(t=>t.job_application_id===e);if(!t)throw Error("Application not found");return t}return r.get("/jobs/applications/".concat(e))}async withdrawApplication(e){if(o.USE_MOCK){await delay();return}return r.patch("/jobs/applications/".concat(e,"/withdraw"))}async canApplyToJob(e){if(o.USE_MOCK){await delay();let t=_.find(t=>t.job_opening_id===e);if(t)return{can_apply:!1,reason:"คุณได้สมัครตำแหน่งงานนี้แล้ว"};let n=p.find(t=>t.job_opening_id===e);if(!n||"open"!==n.status)return{can_apply:!1,reason:"ตำแหน่งงานนี้ปิดรับสมัครแล้ว"};let a=new Date(n.close_date);return a<new Date?{can_apply:!1,reason:"ตำแหน่งงานนี้หมดเขตรับสมัครแล้ว"}:{can_apply:!0}}return r.get("/jobs/".concat(e,"/can-apply"))}async getDepartments(){if(o.USE_MOCK){await delay();let e=new Set(d.map(e=>e.department).filter(Boolean));return Array.from(e)}return r.get("/jobs/departments")}};let h=new JobService;let InterviewService=class InterviewService{async getMyInterviews(){if(o.USE_MOCK){await delay();let e=m.map(e=>{let t=_.find(t=>t.job_application_id===e.job_application_id),n=null==t?void 0:t.job_opening;return{...e,job_application:{job_application_id:t.job_application_id,user_id:t.user_id,status:t.status,job_opening:{job_opening_id:n.job_opening_id,job:{job_id:n.job.job_id,jobcode:n.job.jobcode,jobname:n.job.jobname,department:n.job.department}}}}}),t=new Date,n=e.filter(e=>new Date(e.scheduled_date)>t),a=e.filter(e=>new Date(e.scheduled_date)<=t);return{interviews:e,upcoming:n,past:a,total:e.length}}return r.get("/interviews/me")}async getInterviewDetail(e){if(o.USE_MOCK){await delay();let t=m.find(t=>t.interview_id===e);if(!t)throw Error("Interview not found");let n=_.find(e=>e.job_application_id===t.job_application_id),a=null==n?void 0:n.job_opening;return{...t,job_application:{job_application_id:n.job_application_id,user_id:n.user_id,status:n.status,applied_at:n.applied_at,job_opening:{job_opening_id:a.job_opening_id,job:{job_id:a.job.job_id,jobcode:a.job.jobcode,jobname:a.job.jobname,description:a.job.description,department:a.job.department,location:a.job.location}}}}}return r.get("/interviews/".concat(e))}async confirmInterview(e){if(o.USE_MOCK){await delay();let t=m.find(t=>t.interview_id===e.interview_id);if(!t)throw Error("Interview not found");return{...t,status:e.status,notes:e.reason?"".concat(t.notes,"\nเหตุผล: ").concat(e.reason):t.notes,updated_at:new Date().toISOString()}}return r.patch("/interviews/".concat(e.interview_id,"/confirm"),{status:e.status,reason:e.reason})}async getUpcomingInterviews(){if(o.USE_MOCK){await delay();let e=await this.getMyInterviews(),t=new Date;return t.setDate(t.getDate()+7),e.upcoming.filter(e=>new Date(e.scheduled_date)<=t)}return r.get("/interviews/upcoming")}needsConfirmation(e){return"pending"===e.status}isUpcomingSoon(e){let t=new Date(e.scheduled_date),n=new Date,a=(t.getTime()-n.getTime())/36e5;return a>0&&a<=24}formatInterviewDateTime(e){let t=new Date(e.scheduled_date);return t.toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"Asia/Bangkok"})}};new InterviewService;let NotificationService=class NotificationService{async getNotifications(){if(o.USE_MOCK){await delay();let e=g.filter(e=>!e.is_read).length;return{notifications:g,unread_count:e,total:g.length}}return r.get("/notifications")}async getUnreadNotifications(){return o.USE_MOCK?(await delay(),g.filter(e=>!e.is_read)):r.get("/notifications?unread=true")}async markAsRead(e){if(o.USE_MOCK){await delay();return}return r.patch("/notifications/mark-read",{notification_ids:e})}async markOneAsRead(e){return this.markAsRead([e])}async markAllAsRead(){if(o.USE_MOCK){await delay();return}return r.patch("/notifications/mark-all-read")}async deleteNotification(e){if(o.USE_MOCK){await delay();return}return r.delete("/notifications/".concat(e))}async getUnreadCount(){if(o.USE_MOCK)return await delay(),g.filter(e=>!e.is_read).length;let e=await r.get("/notifications/unread-count");return e.count}};function useJobs(e){let[t,n]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0),[r,s]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let t=!0;return async function(){try{o(!0),s(null);let a=await h.getJobs(e);t&&n(a)}catch(e){t&&s(e)}finally{t&&o(!1)}}(),()=>{t=!1}},[JSON.stringify(e)]),{data:t,loading:a,error:r}}function JobsWithServicePage(){let[e,t]=(0,i.useState)({status:"open",page:1,limit:10}),{data:n,loading:o,error:r}=useJobs(e),handleFilterChange=(e,n)=>{t(t=>({...t,[e]:n,page:1}))},handlePageChange=e=>{t(t=>({...t,page:e}))};return o?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#06C755] mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"กำลังโหลดข้อมูล..."})]})}):r?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-red-500",children:["เกิดข้อผิดพลาด: ",r.message]}),(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-[#06C755] text-white rounded-lg",children:"ลองอีกครั้ง"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ตำแหน่งงานทั้งหมด"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["พบ ",(null==n?void 0:n.total)||0," ตำแหน่งงาน"]})]})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("aside",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 sticky top-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"ค้นหา & กรอง"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"คำค้นหา"}),(0,a.jsx)("input",{type:"text",placeholder:"ชื่อตำแหน่งหรือคำอธิบาย",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#06C755]",onChange:e=>handleFilterChange("search",e.target.value)})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ประเภทการจ้างงาน"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#06C755]",onChange:e=>handleFilterChange("employment_type",e.target.value||void 0),children:[(0,a.jsx)("option",{value:"",children:"ทั้งหมด"}),(0,a.jsx)("option",{value:"full-time",children:"เต็มเวลา"}),(0,a.jsx)("option",{value:"part-time",children:"พาร์ทไทม์"}),(0,a.jsx)("option",{value:"contract",children:"สัญญาจ้าง"}),(0,a.jsx)("option",{value:"internship",children:"ฝึกงาน"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ระดับประสบการณ์"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#06C755]",onChange:e=>handleFilterChange("experience_level",e.target.value||void 0),children:[(0,a.jsx)("option",{value:"",children:"ทั้งหมด"}),(0,a.jsx)("option",{value:"entry",children:"เริ่มต้น"}),(0,a.jsx)("option",{value:"mid",children:"ปานกลาง"}),(0,a.jsx)("option",{value:"senior",children:"อาวุโส"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"แผนก"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-[#06C755]",onChange:e=>handleFilterChange("department",e.target.value||void 0),children:[(0,a.jsx)("option",{value:"",children:"ทั้งหมด"}),(0,a.jsx)("option",{value:"Technology",children:"Technology"}),(0,a.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,a.jsx)("option",{value:"Sales",children:"Sales"}),(0,a.jsx)("option",{value:"HR",children:"HR"})]})]})]})}),(0,a.jsx)("main",{className:"lg:col-span-3",children:(null==n?void 0:n.jobs)&&n.jobs.length>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-4",children:n.jobs.map(e=>{var t,n,i,o,r,s,l;return(0,a.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow p-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:null===(t=e.job)||void 0===t?void 0:t.jobname}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:null===(n=e.job)||void 0===n?void 0:n.jobcode}),(null===(i=e.job)||void 0===i?void 0:i.employment_type)&&(0,a.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:e.job.employment_type}),(null===(o=e.job)||void 0===o?void 0:o.experience_level)&&(0,a.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:e.job.experience_level})]}),(0,a.jsxs)("div",{className:"text-gray-600 space-y-1",children:[(null===(r=e.job)||void 0===r?void 0:r.location)&&(0,a.jsxs)("p",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCCD"}),e.job.location]}),(null===(s=e.job)||void 0===s?void 0:s.salary_range)&&(0,a.jsxs)("p",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB0"}),e.job.salary_range]}),(null===(l=e.job)||void 0===l?void 0:l.department)&&(0,a.jsxs)("p",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDFE2"}),e.job.department]})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:["ปิดรับสมัคร:"," ",new Date(e.close_date).toLocaleDateString("th-TH")]})]}),(0,a.jsx)("div",{className:"ml-4",children:(0,a.jsx)("a",{href:"/jobs/".concat(e.job_opening_id),className:"px-6 py-2 bg-[#06C755] text-white rounded-lg hover:bg-[#05b04b] transition-colors inline-block",children:"ดูรายละเอียด"})})]})},e.job_opening_id)})}),n.total_pages>1&&(0,a.jsxs)("div",{className:"mt-8 flex justify-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>handlePageChange(n.page-1),disabled:1===n.page,className:"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"ก่อนหน้า"}),(0,a.jsxs)("span",{className:"px-4 py-2",children:["หน้า ",n.page," จาก ",n.total_pages]}),(0,a.jsx)("button",{onClick:()=>handlePageChange(n.page+1),disabled:n.page===n.total_pages,className:"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"ถัดไป"})]})]}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"ไม่พบตำแหน่งงานที่ตรงกับเงื่อนไข"})})})]})})]})}new NotificationService},8294:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n(7653),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var a,o={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!l.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===o[a]&&(o[a]=t[a]);return{$$typeof:i,type:e,key:c,ref:d,props:o,_owner:s.current}}t.Fragment=o,t.jsx=q,t.jsxs=q},7573:function(e,t,n){"use strict";e.exports=n(8294)}},function(e){e.O(0,[293,53,744],function(){return e(e.s=377)}),_N_E=e.O()}]);